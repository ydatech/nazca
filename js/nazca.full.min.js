var nzc_textAlign={LEFT:1,CENTER:2,RIGHT:3};var nzc_workspaceTypes={FACEBOOK:{id:1,width:800,height:669,ratio:1.1951871657754}};function nzc_escapeHtml(a){_times=function(b,e){for(var c=0,d="";c<e;c++){d+=b}return d};a=a.replace(/</g,"&lt;").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(b){return _times("&nbsp;",b.length-1)+" "});return a}(function(j){var h="0.1.0";var E={};var n={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};var u={IMAGE:1,TEXT:2};var c={workspace:nzc_workspaceTypes.FACEBOOK,ratio_lock:true,resize_width_limit:0,resize_height_limit:0};var l=false;if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){l=true}console.log("Touch Events: "+(l?"supported":"not supported"));var s=0;var x={};var z=0;j.fn.nazca=function(G){if(typeof(G)==="object"||!G){return E.init.apply(this,arguments)}else{if(E[G]){return E[G].apply(this,Array.prototype.slice.call(arguments,1))}else{j.error("Method "+G+" does not exists.")}}};E.init=function(H){var G=j.extend({},c,H);j("body").addClass("not-selectable");return this.each(function(){var P=j(this);if(P.hasClass("nazca-workspace")){return false}P.addClass("nazca-workspace");var J=P.innerWidth();var K=P.innerHeight();var R=J/K;if(c.workspace.ratio<R){J=K*c.workspace.ratio;P.innerWidth(J)}else{K=J*c.workspace.ratio;P.innerHeight(K)}var Q=j('<div class="nazca-elements"></div>').appendTo(P);var S=j('<div class="nazca-resize-wrap" style="display:none;"><div class="nazca-resize-draggable"></div><a class="nazca-resize-control top-left"></a><a class="nazca-resize-control left"></a><a class="nazca-resize-control top-right"></a><a class="nazca-resize-control bottom-left"></a><a class="nazca-resize-control right"></a><a class="nazca-resize-control bottom-right"></a></div>').appendTo(P);var N=j('<div class="nazca-editor-controls" style="display:none;"></div>').appendTo(P);var M=j('<div class="nazca-align-controls"><div class="nazca-align vertical na-vl"></div><div class="nazca-align vertical na-vr"></div><div class="nazca-align vertical na-vc"></div></div>').appendTo(P);var O=++s;z++;x[O]={$nazca:P,$nazca_elements:Q,$nazca_resize_wrap:S,$nazca_editor_controls:N,$nazca_align_controls:M,resize_wrap_border_width:Math.round(parseFloat(S.css("border-left-width"))),editor_controls_height:N.height()+10,opts:G,elements:[],active_element_id:0,element_last_id:0,scale_delta:J/c.workspace.width};var I=x[O];P.attr("data-nazca-id",O);var L=function(){S.hide();N.hide();var U=I.$nazca_resize_wrap.find(".nazca-resize-draggable");U.nzc_textarea("remove");if(I.active_element_id){var T=v(O,I.active_element_id);if(T&&T.type==u.TEXT&&T.desc==""){q(O,I.active_element_id)}I.active_element_id=0}};j(document).bind("mousedown.nazca dragstart.nazca touchstart.nazca",function(U){if(!I.active_element_id){return true}var T=j(U.target);if(!T.parents(".nazca-resize-wrap").length&&!T.hasClass("nazca-resize-wrap")&&!T.parents(".element").length&&!T.hasClass("element")&&!T.parents(".nazca-editor-controls").length&&!T.hasClass("nazca-editor-controls")){L()}});j(document).bind("keydown.nazca",function(T){switch(T.which){case n.ESCAPE:L();break;case n.DELETE:break;default:break}})})};E.reset=function(){j(document).unbind("mousedown.nazca dragstart.nazca touchstart.nazca keydown.nazca");return this.each(function(){var G=j(this);var H=G.find(".nazca-elements");if(H){g(H)}delete x[parseInt(G.attr("data-nazca-id"))];z--;if(!z){j("body").removeClass("not-selectable")}})};function g(G){G.empty()}E.exportJSON=function(){var G=[];this.each(function(){var J=j(this);var H=J.attr("data-nazca-id");var L=[];for(var K in x[H].elements){var I=j.extend({},x[H].elements[K]);delete I.css;L.push(I)}G.push({type:x[H].opts.workspace.id,data:L})});return G};E.addElements=function(G){return this.each(function(){var I=j(this);var H=I.attr("data-nazca-id");if(!H){return false}w(H,G)})};E.addNewElement=function(G){return this.each(function(){var K=j(this);var I=K.attr("data-nazca-id");if(!I){return false}var L=x[I];var M=L.scale_delta;var O=Math.round(K.width()/M);var N=Math.round(K.height()/M);G.x=0;G.y=0;if(G.type==u.IMAGE){var H=G.width/G.height;if((O/N)>H){G.width=O;G.height=Math.round(G.width/H)}else{G.height=N;G.width=Math.round(G.height*H)}if(G.width>O){G.x=Math.round((O-G.width)/2)}if(G.height>N){G.y=Math.round((N-G.height)/2)}}else{if(G.type==u.TEXT){G.x=Math.round((O-G.width)/2);G.y=Math.round((N-G.fontSize)/2)}}var J=w(I,G);if(J){t(I,J)}})};E.redrawElement=function(G){return this.each(function(){var I=j(this);var H=I.attr("data-nazca-id");if(!H){return false}var J=v(H,G);if(J){r(H,J)}})};E.getElementData=function(I){var H=j(this);var G=H.attr("data-nazca-id");if(!G){return false}return v(G,I)};E.setElementAttr=function(G,H,I){return this.each(function(){var K=j(this);var J=K.attr("data-nazca-id");if(!J){return false}C(J,G,H,I||null)})};E.removeElement=function(G){return this.each(function(){var I=j(this);var H=I.attr("data-nazca-id");if(!H){return false}q(H,G)})};function v(G,H){if(!G){return false}var I=x[G];for(var J in I.elements){if(I.elements[J]["id"]==H){return I.elements[J]}}return null}function w(G,J){var I=x[G];var H;if(!m(J)){J=[J]}for(i in J){H=r(G,J[i]);if(H){f(G,H)}}return J.length===1?H:false}function r(O,K){var G=x[O];var Q=G.scale_delta;var L,M,P,J,S,I,H;if(typeof K!="object"){K=v(O,K);if(!K){return false}}var R=null;M=K;if(!M.id){M.id=++G.element_last_id;G.elements.push(M)}else{R=G.$nazca_elements.find('.element[data-id="'+M.id+'"]')}M.css={};M.css["zIndex"]=M.id;M.css["width"]=P=Math.round(M.width*Q);M.css["height"]=J=Math.round(M.height*Q);M.css["left"]=I=Math.round(M.x*Q);M.css["top"]=S=Math.round(M.y*Q);switch(M.type){case u.IMAGE:H="top:"+S+"px;left:"+I+"px;z-index:"+M.id+";width:"+P+"px;height:"+J+"px;";if(R){R.attr("style",H)}else{R=j('<div class="element image" data-id="'+M.id+'" style="'+H+'"><img src="'+M.src+'" width="100%" height="100%" /></div>').appendTo(G.$nazca_elements)}break;case u.TEXT:var N=M.textAlign==3?"right":(M.textAlign==2?"center":"left");H="top:"+S+"px;left:"+I+"px;z-index:"+M.id+";width:"+P+"px;height:auto;font-family:"+M.fontFamily+";font-size:"+Math.round(M.fontSize*Q)+"px;line-height:"+Math.round(M.fontSize*1.15*Q)+"px;color:"+M.color+";text-align:"+N+";";if(R){R.attr("style",H).html(nzc_escapeHtml(M.desc))}else{R=j('<div class="element text" data-id="'+M.id+'" style="'+H+'">'+nzc_escapeHtml(M.desc)+"</div>").appendTo(G.$nazca_elements)}break;default:break}R.trigger("nzc_draw");return R}function C(G,H,K,L){var I=x[G];for(var J in I.elements){if(I.elements[J]["id"]==H){if(K!==null&&typeof K==="object"){j.extend(I.elements[J],K)}else{I.elements[J][K]=L}return true}}return false}function q(G,I){var J=x[G];for(var K in J.elements){if(J.elements[K]["id"]==I){J.$nazca_editor_controls.hide();J.$nazca_resize_wrap.hide();J.elements.splice(K,1);var H=J.$nazca_elements.find('.element[data-id="'+I+'"]');H.trigger("nzc_remove").remove();J.active_element_id=0;return true}}return false}function t(L,N){var I=x[L];var J=I.resize_wrap_border_width;var O=I.editor_controls_height;var H,K;H=N.attr("data-id");I.active_element_id=H;K=v(L,H);K.css["width"]=N.width();K.css["height"]=N.height();K.css["top"]=parseFloat(N.css("top"));K.css["left"]=parseFloat(N.css("left"));var M,G;M=K.css["width"]+J*2;G=K.css["height"]+J*2;I.$nazca_resize_wrap.css({width:M,height:G,top:K.css["top"]-J,left:K.css["left"]-J,zIndex:K.css["zIndex"]});o(L);I.$nazca_resize_wrap.show();D(L);A(L,K.type)}function f(G,I){var J=x[G];var L=J.$nazca_elements.get(0);var N=J.resize_wrap_border_width;var K=J.editor_controls_height;var M,H;M=I.attr("data-id");H=v(G,M);d(I,{container:L,onDragStart:function(){t(G,I)},onDrag:function(O){H.css["left"]=O.position[0];H.css["top"]=O.position[1];I.css({left:H.css["left"],top:H.css["top"]});C(G,J.active_element_id,{x:Math.round(O.position[0]/J.scale_delta),y:Math.round(O.position[1]/J.scale_delta)});J.$nazca_resize_wrap.css({left:O.position[0]-N,top:O.position[1]-N});J.$nazca_editor_controls.css({left:O.position[0]-N,top:O.position[1]-N-K,display:"none"});y(G)},onDragEnd:function(O){J.$nazca_editor_controls.show();B(G)}})}function A(H,G){var I=x[H];p(H,["top-left","top-right","bottom-left","bottom-right","left","right"]);I.$nazca_resize_wrap.removeClass("nazca-wh-resizable nazca-w-resizable");if(G==u.IMAGE){e(H,["top-left","top-right","bottom-left","bottom-right"]);I.$nazca_resize_wrap.addClass("nazca-wh-resizable")}else{e(H,["left","right"]);I.$nazca_resize_wrap.addClass("nazca-w-resizable")}}function p(G,J){var H=x[G];if(!m(J)){J=[J]}for(var I in J){F(H.$nazca_resize_wrap.find("."+J[I]))}}function e(N,P){var J=x[N];var I=J.active_element_id;var K=v(N,I);var Q=J.$nazca_elements.find('.element[data-id="'+I+'"]');if(!m(P)){P=[P]}var H,R,G,O,M;var S;for(var L in P){S=P[L];(function(U){var T=J.$nazca_resize_wrap.find("."+U);d(T,{draggable:Q.get(0),container:J.$nazca_elements.get(0),onDragStart:function(){H=Q.width();R=Q.height();G=Math.sqrt(H*H+R*R);M=H/R;J.$nazca_editor_controls.hide()},onDrag:function(ab){var W=null,V=null;switch(U){case"top-left":W=H-ab.distance[0];V=R-ab.distance[1];break;case"top-right":W=H+ab.distance[0];V=R-ab.distance[1];break;case"bottom-left":W=H-ab.distance[0];V=R+ab.distance[1];break;case"bottom-right":W=H+ab.distance[0];V=R+ab.distance[1];break;case"left":W=H-ab.distance[0];break;case"right":W=H+ab.distance[0];break;default:F(T);return false}if(J.opts.ratio_lock&&V!==null){var ad=Math.sqrt(W*W+V*V);W=H*(ad/G);V=W/M}if(W<=J.opts.resize_width_limit||(V<=J.opts.resize_height_limit&&V!==null)){return false}var X={width:W+2*J.resize_wrap_border_width,height:(V!==null?V:Q.height())+2*J.resize_wrap_border_width};var Y={};switch(U){case"top-left":K.css["left"]=K.css["left"]+K.css["width"]-W;K.css["top"]=K.css["top"]+K.css["height"]-V;X.left=K.css["left"]-J.resize_wrap_border_width;X.top=K.css["top"]-J.resize_wrap_border_width;Y.left=K.css["left"];Y.top=X.top-J.editor_controls_height;break;case"top-right":K.css["top"]=K.css["top"]+K.css["height"]-V;X.top=K.css["top"]-J.resize_wrap_border_width;Y.top=X.top-J.editor_controls_height;break;case"bottom-left":K.css["left"]=K.css["left"]+K.css["width"]-W;X.left=K.css["left"]-J.resize_wrap_border_width;Y.left=K.css["left"];break;case"left":K.css["left"]=K.css["left"]+K.css["width"]-W;X.left=K.css["left"]-J.resize_wrap_border_width;Y.left=K.css["left"];default:break}K.css["width"]=W;K.css["height"]=V!==null?V:"auto";J.$nazca_resize_wrap.css(X);Q.css(K.css);J.$nazca_editor_controls.css(Y);var aa={};var ac,ae,Z;for(var ac in K.css){Z=(ac=="left"?"x":(ac=="top"?"y":ac));ae=Math.round(K.css[ac]/J.scale_delta);aa[Z]=ae}C(N,J.active_element_id,aa);Q.trigger("nzc_resize",[K.css]);y(N)},onDragEnd:function(){J.$nazca_editor_controls.show();B(N)}})})(S)}}function D(G){var I=x[G];var J=I.active_element_id;var H=v(G,J);var K=I.$nazca_resize_wrap.find(".nazca-resize-draggable");F(K);K.nzc_textarea("remove");if(H.type==u.TEXT){K.nzc_textarea("init",J)}else{d(K,{draggable:I.$nazca_resize_wrap.get(0),container:I.$nazca_elements.get(0),onDrag:function(L){H.css["left"]=L.position[0];H.css["top"]=L.position[1];I.$nazca_elements.find('.element[data-id="'+J+'"]').css({left:H.css["left"]+I.resize_wrap_border_width,top:H.css["top"]+I.resize_wrap_border_width});C(G,I.active_element_id,{x:Math.round((H.css["left"]+I.resize_wrap_border_width)/I.scale_delta),y:Math.round((H.css["top"]+I.resize_wrap_border_width)/I.scale_delta)});I.$nazca_resize_wrap.css({left:H.css["left"],top:H.css["top"]});I.$nazca_editor_controls.css({left:H.css["left"],top:H.css["top"]-I.editor_controls_height,display:"none"});y(G)},onDragEnd:function(L){I.$nazca_editor_controls.show();B(G)}})}}function o(G){var I=x[G];var J=I.active_element_id;var H=v(G,J);I.$nazca_editor_controls.show();I.$nazca_editor_controls.css({left:H.css["left"]-I.resize_wrap_border_width,top:H.css["top"]-I.resize_wrap_border_width-I.editor_controls_height});I.$nazca_editor_controls.nzc_image_controls("remove");I.$nazca_editor_controls.nzc_text_controls("remove");if(H.type==u.IMAGE){I.$nazca_editor_controls.nzc_image_controls("init",J)}else{I.$nazca_editor_controls.nzc_text_controls("init",J)}I.$nazca_editor_controls.css({position:"absolute",width:I.$nazca_editor_controls.css({position:"fixed",width:"auto"}).outerWidth()})}function y(G){var I=x[G];var K=I.active_element_id;var H=v(G,K);var J=50;j.each(I.$nazca_align_controls.find(".vertical"),function(N,L){var O=j(this);var M={height:H.css["height"]+I.resize_wrap_border_width*2+J,top:H.css["top"]-J/2,left:H.css["left"]};if(O.hasClass("na-vc")){M.left=M.left+H.css["width"]/2}else{if(O.hasClass("na-vr")){M.left=M.left+H.css["width"]}}O.css(M).addClass("on")})}function B(G){var H=x[G];H.$nazca_align_controls.find(".on").removeClass("on")}function d(G,H){var I=H;if(l){G.bind("touchstart",I,k)}else{G.bind("dragstart",function(){return false});G.bind("mousedown",I,k)}}function F(G){if(l){G.unbind("touchstart")}else{G.unbind("dragstart");G.unbind("mousedown")}}function k(S){var X=false;var J=S.data.draggable||this;var Q=j(J);var U=S.data.container||Q.parent().get(0);var L=S.data.onDragStart||null;var T=S.data.onDrag||null;var I=S.data.onDragEnd||null;var Y=b(S.originalEvent);var W=a(J);var M=a(U);var aa=Y.pageX-W.left;var Z=Y.pageY-W.top;var H=Y.pageX;var G=Y.pageY;var R=H-aa-M.left;var K=G-Z-M.top;var V=R;var P=K;if(L){L.call(J)}var O=function(ab){if(l){ab.preventDefault();ab.stopPropagation()}X=true;ab=b(ab.originalEvent);H=ab.pageX;G=ab.pageY;V=H-aa-M.left;P=G-Z-M.top;if(T){T.call(J,{position:[V,P],distance:[V-R,P-K]})}else{J.style.left=V+"px";J.style.top=P+"px";J.style.right="auto";J.style.bottom="auto"}};var N=function(ab){X=false;if(l){j("body").unbind("touchmove.nazcaEleDrag",O);j("body").unbind("touchend.nazcaEleDrag",N)}else{j(document).unbind("mousemove.nazcaEleDrag",O);j(document).unbind("mouseup.nazcaEleDrag",N)}if(I){I.call(J,{position:[V,P],distance:[V-R,P-K]})}};if(l){j("body").bind("touchmove.nazcaEleDrag",O);j("body").bind("touchend.nazcaEleDrag",N)}else{j(document).bind("mousemove.nazcaEleDrag",O);j(document).bind("mouseup.nazcaEleDrag",N)}}function b(I){I=I||window.event;if(!I.target){I.target=I.srcElement}if(typeof(I.touches)!="undefined"&&I.touches.length==1){delete I.pageX;delete I.pageY;I.pageX=I.touches[0].pageX;I.pageY=I.touches[0].pageY}else{if(I.pageX==null&&I.clientX!=null){var H=document.documentElement;var G=document.body;I.pageX=I.clientX+(H.scrollLeft||G&&G.scrollLeft||0);I.pageX-=H.clientLeft||0;I.pageY=I.clientY+(H.scrollTop||G&&G.scrollTop||0);I.pageY-=H.clientTop||0}if(!I.which&&I.button){I.which=I.button&1?1:(I.button&2?3:(I.button&4?2:0))}}return I}function a(J){var M=J.getBoundingClientRect();var N=document.body;var H=document.documentElement;var G=window.pageYOffset||H.scrollTop||N.scrollTop;var K=window.pageXOffset||H.scrollLeft||N.scrollLeft;var L=H.clientTop||N.clientTop||0;var O=H.clientLeft||N.clientLeft||0;var P=M.top+G-L;var I=M.left+K-O;return{top:Math.round(P),left:Math.round(I)}}function m(G){return Object.prototype.toString.call(G)==="[object Array]"?true:false}}(jQuery));(function(d){var a="0.1.0";var b={};d.fn.nzc_image_controls=function(e){if(typeof(e)==="object"||!e){return b.init.apply(this,arguments)}else{if(b[e]){return b[e].apply(this,Array.prototype.slice.call(arguments,1))}else{d.error("Method "+e+" does not exists.")}}};b.init=function(e){return this.each(function(){if(!e){return false}var f=d(this);if(f.hasClass("nazca-image-controls")){return false}f.addClass("nazca-image-controls");f.attr("data-element-id",e);var g;g='<ul class="nav nav-nzc-controls"><li><a class="nzc-i-delete"><i class="fa fa-trash"></i></a></li></ul>';f.html(g);c(f)})};b.remove=function(e){return this.each(function(){var f=d(this);if(!f.hasClass("nazca-image-controls")){return false}f.removeClass("nazca-image-controls");f.removeAttr("data-element-id");f.empty()})};function c(e){var f=e.attr("data-element-id");e.find(".nzc-i-delete").click(function(g){e.parents(".nazca-workspace").nazca("removeElement",f)})}}(jQuery));(function(f){var a="0.1.0";var c={};f.fn.nzc_textarea=function(g){if(typeof(g)==="object"||!g){return c.init.apply(this,arguments)}else{if(c[g]){return c[g].apply(this,Array.prototype.slice.call(arguments,1))}else{f.error("Method "+g+" does not exists.")}}};c.init=function(g){return this.each(function(){if(!g){return false}var h=f(this);if(h.hasClass("nazca-textarea-wrap")){return false}h.addClass("nazca-textarea-wrap").attr("data-element-id",g).css("cursor","default");var j=f('<textarea id="nzc_t'+Math.round((Math.random()*(999999-0)+0))+'"></textarea>').appendTo(h);b(j,g);d(j,g)})};c.remove=function(){return this.each(function(){var g=f(this);if(!g.hasClass("nazca-textarea-wrap")){return false}e(g)})};function e(h,l){var j=h.parents(".nazca-workspace");var g=h.attr("data-element-id");var k=j.find('.element[data-id="'+g+'"]');if(typeof(l)=="undefined"){l=h.children("textarea")}f('.nzc_shadow[data-id="'+l.attr("id")+'"]').remove();h.removeAttr("data-element-id").removeClass("nazca-textarea-wrap").css("cursor","move");l.remove();f(window).unbind("resize.nzc_textarea");if(k.length){k.unbind("nzc_remove.nzc_textarea");k.unbind("nzc_resize.nzc_textarea");k.unbind("nzc_draw.nzc_textarea");k.css("visibility","visible")}}function b(n,h){var k=n.parents(".nazca-workspace");var m=k.find('.element[data-id="'+h+'"]');if(!m.length){return false}var g=k.nazca("getElementData",h);var l={color:m.css("color"),fontFamily:m.css("fontFamily"),fontSize:m.css("fontSize"),lineHeight:m.css("lineHeight"),textAlign:m.css("textAlign")};n.val(g.desc).css(l);m.css("visibility","hidden");var j=f('.nzc_shadow[data-id="'+n.attr("id")+'"]');if(!j.length){j=f('<div class="nzc_shadow"></div>').appendTo(document.body);j.attr("data-id",n.attr("id"))}j.css({position:"absolute",top:-10000,left:-10000,width:m.width(),fontSize:l.fontSize,fontFamily:l.fontFamily,lineHeight:l.lineHeight,resize:"none","word-wrap":"break-word"});return true}function d(n,g){var l=n.parents(".nazca-workspace");var m=l.find('.element[data-id="'+g+'"]');var j=n.parents(".nazca-resize-wrap");var h=f('.nzc_shadow[data-id="'+n.attr("id")+'"]');var k=function(p){var q=nzc_escapeHtml(n.val());if(p&&p.data&&p.data.event==="keydown"&&p.keyCode===13){q+="<br/>&nbsp;"}h.css("width",n.width());h.html(q);var o=h.height();if(o<=0){o=parseInt(n.css("lineHeight"))}n.height(o);j.height(o)};n.keydown({event:"keydown"},k).bind("change keyup",function(o){k(o);n.parents(".nazca-workspace").nazca("setElementAttr",g,{desc:n.val()});m.html(nzc_escapeHtml(n.val()))});f(window).bind("resize.nzc_textarea",k);m.bind("nzc_resize.nzc_textarea",function(o,p){k()});k(null);m.bind("nzc_draw.nzc_textarea",function(){b(n,g);k(null)}).bind("nzc_remove.nzc_textarea",function(){e(n.parent(),n)})}}(jQuery));(function(d){var a="0.1.0";var b={};d.fn.nzc_text_controls=function(e){if(typeof(e)==="object"||!e){return b.init.apply(this,arguments)}else{if(b[e]){return b[e].apply(this,Array.prototype.slice.call(arguments,1))}else{d.error("Method "+e+" does not exists.")}}};b.init=function(e){return this.each(function(){if(!e){return false}var f=d(this);if(f.hasClass("nazca-text-controls")){return false}f.addClass("nazca-text-controls");f.attr("data-element-id",e);var g;g='<ul class="nav nav-nzc-controls"><li class="dropdown"><a class="nzc-t-font" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-font"></i> Font <span class="caret"></span></a><ul class="nzc-t-font-dropdown dropdown-menu" role="menu"><li><a data-font="Arial">Arial</a></li><li><a data-font="Comic Sans MS">Comic Sans MS</a></li><li><a data-font="Georgia">Georgia</a></li><li><a data-font="Monotype Corsiva">Monotype Corsiva</a></li><li><a data-font="PT Sans">PT Sans</a></li><li><a data-font="Times New Roman">Times New Roman</a></li></ul></li><li><a class="nzc-t-align" data-value="left"><i class="fa fa-align-left"></i></a></li><li><a class="nzc-t-align" data-value="center"><i class="fa fa-align-center"></i></a></li><li><a class="nzc-t-align" data-value="right"><i class="fa fa-align-right"></i></a></li><li class="dropdown"><a class="nzc-t-color" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-adjust"></i> Color <span class="caret"></span></a><ul class="nzc-t-color-dropdown dropdown-menu" role="menu"><li><a data-color="#000000">Black</a></li><li><a data-color="#1e84ab">Blue</a></li><li><a data-color="#f1c40f">Orange</a></li><li><a data-color="#ffffff">White</a></li></ul></li><li><a class="nzc-t-delete"><i class="fa fa-trash"></i></a></li></ul>';f.html(g);c(f)})};b.remove=function(e){return this.each(function(){var f=d(this);if(!f.hasClass("nazca-text-controls")){return false}f.removeClass("nazca-text-controls");f.removeAttr("data-element-id");f.empty()})};function c(e){var f=e.attr("data-element-id");e.find(".nzc-t-delete").click(function(g){e.parents(".nazca-workspace").nazca("removeElement",f)});e.find(".nzc-t-align").click(function(h){var g;switch(d(this).attr("data-value")){case"left":g=nzc_textAlign.LEFT;break;case"center":g=nzc_textAlign.CENTER;break;case"right":g=nzc_textAlign.RIGHT;break;default:break}e.parents(".nazca-workspace").nazca("setElementAttr",f,{textAlign:g}).nazca("redrawElement",f)});e.find(".nzc-t-font-dropdown>li>a").click(function(g){e.parents(".nazca-workspace").nazca("setElementAttr",f,{fontFamily:d(this).attr("data-font")}).nazca("redrawElement",f)});e.find(".nzc-t-color-dropdown>li>a").click(function(g){e.parents(".nazca-workspace").nazca("setElementAttr",f,{color:d(this).attr("data-color")}).nazca("redrawElement",f)})}}(jQuery));